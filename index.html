<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body onload = "init()">
    <p id="result1"></p>
    <p id="result2"></p>
    <button onclick="testA()">A</button>
    <button onclick="testB()">B</button>
    <button onclick="testC()">C</button>
    <button onclick="testD()">D</button>
    <button onclick="testE()">E</button>
    <button onclick="testP()">P</button>
    <button onclick="testQ()">Q</button>
    <button onclick="testR()">R</button>
    <button onclick="testT()">T</button>
    <button onclick="testU()">U</button>
    <button onclick="testV()">V</button>
    <br>
    <button onclick="testW()">W</button>
    <button onclick="testX()">X</button>
    <button onclick="testY()">Y</button>
    <script>
        let result1 = document.getElementById("result1");
        let result2 = document.getElementById("result2");
        let time = "";
        let timerId = "";
        let i = 0;
        let mms = 20;
        let bool = true;
        let res1 = "";
        let res2 = "";
        let z = "";
        function init() {
            mms = parseInt(prompt("mms"));
        }

        function testA() {
            time = Date.now();
            result1.textContent = res1;

            clearTimeout(timerId);
            for(let i = 0; i < z.length; i++) {


            }

        }

        function testB() {
            result1.textContent = Date.now() - time;
        }

        function testC() {
            i = 0;
            time = Date.now();
            timerId = setInterval(function() {
                i += mms;
            },mms)

        }

        function testD() {
            clearInterval(timerId);
            result1.textContent = Date.now() - time;
            result2.textContent = i;
        }

        function testE() {
            i = 0;
            time = Date.now();
            timerId = setInterval(function() {
                let can = document.createElement("canvas");
                document.body.appendChild(can);
                i += mms;
            },mms)
        }

        function testP() {
            time = Date.now();
            testQ();
        }

        function testQ() {
            i += mms;
            if(bool){setTimeout(testQ,mms)};
        }

        function testR() {
            result1.textContent = Date.now() - time;
            result2.textContent = i;
        }

        function testT() {
            i = 0;
            time = Date.now();
            timerId = setInterval(function() {
                i ++;
                let tmp = (time - Date.now());
                res1 = res1 + "[" + tmp +"," + i + "]" + ",";

                result1.textContent = res1;
            },mms)
        }

        
        function testU() {
            i = 0;

            timerId = setInterval(function() {
                i += mms;
                res1 = res1 + i + ",";
                result1.textContent = res1;
            },mms)
        }
        function testV() {
            i = 0;

            timerId = setInterval(function() {
                i += mms;
                res1 = res1 + i + ",";
            },mms)

            result1.textContent = res1;
        }

        function animate() {
            i ++;
            let tmp = (time - Date.now());
            res1 = res1 + "[" + tmp +"," + i + "]" + ",";
            result1.textContent = res1;

            requestAnimationFrame(animate);
        }

        function testW() {
            time = Date.now();
            requestAnimationFrame(animate);

        }

        function testX() {
            let start, previousTimeStamp;
            let done = false;

            function step(timestamp) {
              if (start === undefined) {
                start = timestamp;
              }
              const elapsed = timestamp - start;

              if (previousTimeStamp !== timestamp) {
                console.log(elapsed);
              }

              if (elapsed < 2000) {
                previousTimeStamp = timestamp;
                window.requestAnimationFrame(step);
                
              }
            }

            window.requestAnimationFrame(step);
        }

        function testY() {
            let x,y,z,w;
            time = Date.now();
            timerId = setInterval(() => {

                i ++;

                if(x === undefined && Date.now() - time >= 5000) {
                    x = i;
                }

                if(y === undefined && Date.now() - time >= 10000) {
                    y = i;
                }

                if(z === undefined && Date.now() - time >= 15000) {
                    z = i;
                }

                if(Date.now() - time >= 20000) {
                    clearInterval(timerId);
                    w = i;
                    result1.textContent = `${x},${y},${z},${w}`;
                }

            },mms)
            
        }

    </script>
</body>
</html>
